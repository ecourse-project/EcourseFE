import _objectSpread from "@babel/runtime/helpers/esm/objectSpread2";
// ======== state ======== //

var initialCanvasState = {
  // äº¤äº’
  interaction: {},
  onInteractionChange: null,
  enableCanvasInteraction: true
};
export var canvasSlice = function canvasSlice(set, get) {
  return _objectSpread(_objectSpread({}, initialCanvasState), {}, {
    //å†…éƒ¨æ›´æ–°äº¤äº’å‚æ•°æ–¹æ³•
    internalUpdateCanvasInteract: function internalUpdateCanvasInteract(interact, action) {
      var _get = get(),
        onInteractionChange = _get.onInteractionChange;
      set({
        interaction: interact
      }, false, {
        type: (action === null || action === void 0 ? void 0 : action.type) || 'ğŸ•¹å†…éƒ¨æ›´æ–°ï¼šinteraction'
      });
      onInteractionChange === null || onInteractionChange === void 0 || onInteractionChange(interact);
    },
    /**
     * å¼€å…³ç”»å¸ƒçš„æ¿€æ´»æ€
     */
    toggleCanvasInteraction: function toggleCanvasInteraction() {
      var _get2 = get(),
        enableCanvasInteraction = _get2.enableCanvasInteraction;
      set({
        enableCanvasInteraction: !enableCanvasInteraction
      });
    },
    /**
     * å–æ¶ˆç”»å¸ƒçš„æ¿€æ´»
     */
    deselectCanvas: function deselectCanvas() {
      var _get3 = get(),
        internalUpdateCanvasInteract = _get3.internalUpdateCanvasInteract;
      internalUpdateCanvasInteract({
        status: 'unSelected'
      });
    },
    setCanvasInteraction: function setCanvasInteraction(interaction) {
      get().internalUpdateCanvasInteract(interaction, {
        name: 'updateCanvasInteraction è§¦å‘'
      });
    },
    setViewport: function setViewport(viewPort) {
      var _get4 = get(),
        internalUpdateEditorAwareness = _get4.internalUpdateEditorAwareness,
        editorAwareness = _get4.editorAwareness;
      internalUpdateEditorAwareness({
        viewport: _objectSpread(_objectSpread({}, editorAwareness.viewport), viewPort)
      });
    }
  });
};